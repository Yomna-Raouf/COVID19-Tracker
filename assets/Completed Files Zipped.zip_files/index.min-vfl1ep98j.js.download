define(["require","exports","tslib","classnames","react","spectrum/avatar","spectrum/icon_global","spectrum/tertiary_link","retrieval-components/highlighted-truncated-string"],(function(e,t,i,s,n,r,a,g,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=i.__importDefault(s),n=i.__importStar(n),t.SearchSuggestions=function(e){return n.createElement("ul",{id:e.id,className:s.default("rc-search-suggestions__list",e.className),role:"listbox","aria-label":e.ariaLabel},e.suggestions.map((function(t){return!!t.suggestions.length&&[t.title&&n.createElement(l,{title:t.title,key:t.title}),n.createElement(d,{key:c(t.suggestions)?"suggestions-people":"suggestions-query",suggestions:t.suggestions,highlightedSuggestion:e.highlightedSuggestion,onSuggestionClick:e.onSuggestionClick,onSuggestionHighlight:e.onSuggestionHighlight,width:e.width,showViewProfileButton:e.showViewProfileButton})]})))};var l=function(e){var t=e.title;return n.createElement("li",{className:"rc-search-suggestions__header",role:"option"},n.createElement("h3",null,t))},u=function(e){return"name"in e},c=function(e){return!!e.length&&u(e[0])},h=function(e,t){return!!e&&(u(e)&&u(t)?e.emailAddress===t.emailAddress:!u(e)&&!u(t)&&e.query===t.query)},d=function(e){var t=e.width,i=e.suggestions,s=e.highlightedSuggestion,r=e.onSuggestionClick,a=e.onSuggestionHighlight,g=e.showViewProfileButton;return c(i)?n.createElement(n.Fragment,null,i.map((function(e){return n.createElement(_,{key:e.emailAddress,suggestion:e,isHighlighted:h(s,e),onSuggestionClick:r,onSuggestionHighlight:a,width:t,showViewProfileButton:g})}))):n.createElement(n.Fragment,null,i.map((function(e){return n.createElement(w,{key:e.query,suggestion:e,isHighlighted:h(s,e),onSuggestionClick:r,onSuggestionHighlight:a,width:t})})))},m=function(e){var t=e.initials,i=e.avatar;return i?n.createElement(r.Avatar,{size:24,src:i,className:"rc-search-suggestions__row-avatar",alt:t,renderFallback:function(){return n.createElement(r.AvatarInitials,{avatarSize:24,backgroundColor:r.avatarColorForUserIdentifier(t)},t)},"aria-hidden":!0}):n.createElement(r.AvatarInitials,{avatarSize:24,backgroundColor:r.avatarColorForUserIdentifier(t),className:"rc-search-suggestions__row-avatar","aria-hidden":!0},t)};t.generateIdForSuggestion=function(e){return u(e)?"suggestion-people-"+e.emailAddress:"suggestion-query-"+e.query};var p=(function(e){function r(){var t=e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onSuggestionClick(t.props.suggestion)},t.handleMouseOver=function(){t.props.onSuggestionHighlight(t.props.suggestion)},t.handleMouseOut=function(){t.props.onSuggestionHighlight(void 0)},t}return i.__extends(r,e),r.prototype.render=function(){var e=this.props,i=e.isHighlighted,r=e.children,a=e.className,g=e.suggestion;return n.createElement("li",{className:s.default("rc-search-suggestions__row",a,{"rc-search-suggestions__row--highlighted":i}),role:"option",onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,"aria-selected":i,id:t.generateIdForSuggestion(g),"aria-label":g.ariaLabel},r)},r})(n.PureComponent),f={variant:"HIGHLIGHTED_TRUNCATED_STRING_END",fontSize:14},_=function(e){return n.createElement(p,Object.assign({},e,{className:"rc-search-suggestions__row--people"}),n.createElement(m,{initials:e.suggestion.initials,avatar:e.suggestion.avatar}),n.createElement(o.HighlightedTruncatedString,Object.assign({},f,{text:e.suggestion.name,highlightSpans:e.suggestion.nameHighlights,availableWidth:e.width?e.width/2:0})),n.createElement(o.HighlightedTruncatedString,Object.assign({},f,{className:"rc-search-suggestions__subtitle",text:e.suggestion.emailAddress,highlightSpans:e.suggestion.emailAddressHighlights,availableWidth:e.width?e.width/2:0})),e.showViewProfileButton&&"createViewProfileHandler"in e.suggestion&&n.createElement(g.TertiaryLink,{className:"rc-search-suggestions__view-profile",onClick:e.suggestion.createViewProfileHandler(e.suggestion),onKeyDown:e.suggestion.handleViewProfileKeyDown},n.createElement("span",{className:"rc-search-suggestions__view-profile-text"},e.suggestion.viewProfileButtonText)))},w=function(e){return n.createElement(p,Object.assign({},e,{className:"rc-search-suggestions__row--query"}),n.createElement(a.IconGlobal,{name:"search",className:"rc-search-suggestions__row-avatar"}),n.createElement(o.HighlightedTruncatedString,Object.assign({},f,{text:e.suggestion.query,highlightSpans:e.suggestion.highlightSpans,availableWidth:e.width||0})))}}));
//# sourceMappingURL=index.min.js-vflHwILzv.map