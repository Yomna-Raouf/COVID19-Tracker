define(["require","exports","modules/clean/react/upload_kit/lib/types","modules/clean/react/upload_kit/utils/path","modules/clean/filepath"],(function(t,e,u,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=[u.UploadStatus.Staged,u.UploadStatus.Error];function o(t,e){return e.isDir?t.filter((function(t){return n.parent_dir(t.destPath)===e.destPath})):[]}function s(t,e){return e.isDir?t.filter((function(t){return-1!==n.parent_dir(t.destPath).indexOf(e.destPath)})):[]}e.hasUploadFailures=function(t){return t.some((function(t){return t.status===u.UploadStatus.Error}))},e.allItemsUploaded=function(t){return t.every((function(t){return t.status===u.UploadStatus.Success}))},e.numItemsToUpload=function(t){return t.filter((function(t){return t.source===u.FileSource.Dropbox||!t.isDir})).length},e.numItemsUploaded=function(t){return t.filter((function(t){return t.status===u.UploadStatus.Success})).length},e.getRootItems=function(t){return t.filter((function(t){return"/"===r.getRootDir(t.destPath)}))},e.getTotalBytes=function(t){return t.reduce((function(t,e){return t+e.bytes}),0)},e.getTotalBytesUploaded=function(t){return t.reduce((function(t,e){return t+e.bytesUploaded}),0)},e.getUploadableLocalItems=function(t){return t.filter((function(t){return t.source===u.FileSource.Computer&&!t.isDir&&t.file&&-1!==a.indexOf(t.status)}))},e.getUploadableDropboxitems=function(t){return t.filter((function(t){return t.source===u.FileSource.Dropbox&&t.file&&-1!==a.indexOf(t.status)}))},e.getChildren=o,e.getNestedFiles=s,e.aggregateBytes=function(t,e){return e.isDir?e.source===u.FileSource.Dropbox?e.bytes:s(t,e).reduce((function(t,e){return t+e.bytes}),0):e.bytes},e.aggregateChildrenStatuses=function(t,e){for(var r,n=o(t,e),a=((r={})[u.UploadStatus.Success]=0,r[u.UploadStatus.Cancelling]=0,r[u.UploadStatus.Uploading]=0,r[u.UploadStatus.Queued]=0,r[u.UploadStatus.Staged]=0,r),s=0,l=n;s<l.length;s++){var i=l[s];if(i.status===u.UploadStatus.Error)return u.UploadStatus.Error;a[i.status]++}return a[u.UploadStatus.Success]===n.length?u.UploadStatus.Success:a[u.UploadStatus.Cancelling]>0?u.UploadStatus.Cancelling:a[u.UploadStatus.Uploading]>0?u.UploadStatus.Uploading:a[u.UploadStatus.Queued]>0?u.UploadStatus.Queued:u.UploadStatus.Staged},e.anyFileUploading=function(t){return t.length>0&&!t.map((function(t){return t.status})).every((function(t){return[u.UploadStatus.Success,u.UploadStatus.Error].includes(t)}))}}));
//# sourceMappingURL=selectors.min.js-vflJQjUzV.map